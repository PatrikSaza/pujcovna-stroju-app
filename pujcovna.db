import sqlite3
import random

# Připojení k databázi (vytvoří soubor, pokud neexistuje)
conn = sqlite3.connect("pujcovna.db")
c = conn.cursor()

# --- Vytvoření tabulky klientů ---
c.execute('''
CREATE TABLE IF NOT EXISTS clients (
    ID_klienta TEXT PRIMARY KEY,
    Firma TEXT,
    Adresa TEXT,
    ICO INTEGER,
    Sleva REAL,
    Kontaktní_osoba TEXT
)
''')

# --- Vytvoření tabulky strojů ---
c.execute('''
CREATE TABLE IF NOT EXISTS machines (
    ID_stroje TEXT PRIMARY KEY,
    Nazev TEXT,
    Popis TEXT,
    Cena_za_den REAL,
    Dostupnost TEXT
)
''')

# --- Naplnění tabulky strojů ---
machine_list = [
    ("M01","Míchačka","Stroj na míchání betonu", random.randint(100,500)),
    ("M02","Vrtačka","Elektrická vrtačka pro stavbu", random.randint(100,500)),
    ("M03","Lešení","Pojízdné stavební lešení", random.randint(100,500)),
    ("M04","Pila","Stolní pila na dřevo", random.randint(100,500)),
    ("M05","Bagr","Mini-bagr pro stavební práce", random.randint(100,500)),
    ("M06","Jeřáb","Stavební jeřáb s nosností 5t", random.randint(100,500)),
    ("M07","Valec","Vibrační valec pro zhutnění", random.randint(100,500)),
    ("M08","Bruska","Pásová bruska na dřevo", random.randint(100,500)),
    ("M09","Fukar","Stavební fukar na listí a prach", random.randint(100,500)),
    ("M10","Kompresor","Vzduchový kompresor 10bar", random.randint(100,500))
]

for m in machine_list:
    c.execute('INSERT OR REPLACE INTO machines VALUES (?,?,?,?,?)',
              (m[0], m[1], m[2], m[3], random.choice(["Ano","Ne"])))

# --- Naplnění tabulky klientů ---
cities = ["Praha", "Brno", "Ostrava", "Plzeň", "Liberec", "Olomouc", "Hradec Králové", "Ústí nad Labem"]
streets = ["Masarykova", "Hlavní", "Komenského", "Nádražní", "Školní", "Dlouhá", "Krátká", "Nová", "Zahradní"]
company_names = ["Stavex","BuildPro","Cementix","BetonServis","Strojmont","TechBuild","EuroStav","Mekas"]
company_types = ["s.r.o.","a.s.","v.o.s."]

first_names = ["Jan","Petr","Eva","Lucie","Martin","Jakub","Anna","Tomáš"]
last_names = ["Novák","Svoboda","Dvořák","Černý","Procházka","Kuťák"]

for i in range(1,101):
    city = random.choice(cities)
    street = random.choice(streets)
    firma = f"{random.choice(company_names)} {random.choice(company_types)}"
    adresa = f"{street} {random.randint(1,200)}, {city}"
    ico = random.randint(10000000,99999999)
    sleva = round(random.randint(0,15)/100,2)
    osoba = f"{random.choice(first_names)} {random.choice(last_names)}"
    
    c.execute('INSERT OR REPLACE INTO clients VALUES (?,?,?,?,?,?)',
              (f"K{i:03d}", firma, adresa, ico, sleva, osoba))

# --- Uložení a uzavření ---
conn.commit()
conn.close()

print("Databáze 'pujcovna.db' byla vytvořena s 100 klienty a 10 stroji.")
